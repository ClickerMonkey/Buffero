<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Fri Jun 21 19:54:19 EDT 2013 -->
<TITLE>
BufferStream
</TITLE>

<META NAME="date" CONTENT="2013-06-21">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BufferStream";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BufferStream.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/magnos/io/Buffers.html" title="class in org.magnos.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/magnos/io/BufferStreamListener.html" title="interface in org.magnos.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/magnos/io/BufferStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BufferStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.magnos.io</FONT>
<BR>
Interface BufferStream</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../org/magnos/io/DynamicBufferStream.html" title="class in org.magnos.io">DynamicBufferStream</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>BufferStream</B></DL>
</PRE>

<P>
A BufferStream is used to read and write to Streams, Channels, ByteBuffers, 
 and byte arrays. To get more detailed interaction use ByteReader or 
 ByteWriter. Once data is written to the stream flush must be called to 
 notify the streams listener that data exists on the BufferStream and is 
 ready for more processing.
 
 A BufferStream is not thread-safe, therefore any access to it must be guarded
 by synchronization or locks.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Philip Diffenderfer</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#capacity()">capacity</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the full capacity of this BufferStream in bytes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#clear()">clear</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Discards all bytes in this BufferStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#drain(byte[], int, int)">drain</A></B>(byte[]&nbsp;data,
      int&nbsp;offset,
      int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drains the byte array and puts the data in this BufferStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#drain(java.nio.ByteBuffer)">drain</A></B>(java.nio.ByteBuffer&nbsp;writer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drains the buffer and puts the data in this BufferStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#drain(java.io.InputStream)">drain</A></B>(java.io.InputStream&nbsp;stream)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drains the stream and puts the data in this BufferStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#drain(java.nio.channels.ReadableByteChannel)">drain</A></B>(java.nio.channels.ReadableByteChannel&nbsp;channel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drains the channel and puts the data in this BufferStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#expand()">expand</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Expands the total capacity of the underlying buffer to double its size.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#fill(java.nio.ByteBuffer)">fill</A></B>(java.nio.ByteBuffer&nbsp;reader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fills the buffer and puts data from this BufferStream into it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#fill(java.io.OutputStream)">fill</A></B>(java.io.OutputStream&nbsp;stream)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fills the stream by writing the data from this BufferStream to it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#fill(java.nio.channels.WritableByteChannel)">fill</A></B>(java.nio.channels.WritableByteChannel&nbsp;channel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fills the channel by writing the data from this BufferStream to it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#flush()">flush</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flushes the data in this BufferStream by notifying the listener that data
 is ready to be processed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#free()">free</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Completely frees the underlying ByteBuffer of this BufferStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.nio.ByteBuffer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#getReader(int)">getReader</A></B>(int&nbsp;bytes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the byte buffer to read from that has enough space for the given 
 number of bytes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.nio.ByteBuffer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#getWriter(int)">getWriter</A></B>(int&nbsp;bytes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the byte buffer to write to that has enough space for the given 
 number of bytes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#hasBytes()">hasBytes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether this BufferStream contains any data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#isEmpty()">isEmpty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether this BufferStream contains any data.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#isFree()">isFree</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether this BufferStream has been freed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.nio.ByteOrder</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#order()">order</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the byte order of the BufferStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#order(java.nio.ByteOrder)">order</A></B>(java.nio.ByteOrder&nbsp;order)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the byte order of the BufferStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#pad(int)">pad</A></B>(int&nbsp;bytes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensures the BufferStream has enough space to write the given number
 of bytes to it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#position()">position</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the writing position of this BufferStream in its underlying
 ByteBuffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#remaining()">remaining</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of bytes which can be written to this BufferStream
 before it must be expanded to hold more.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#size()">size</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of bytes current written to the BufferStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#skip(int)">skip</A></B>(int&nbsp;bytes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Skips a given number of bytes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/io/BufferStream.html#sync(java.nio.ByteBuffer)">sync</A></B>(java.nio.ByteBuffer&nbsp;reader)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Synchronizes the given read ByteBuffer with this stream.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="drain(java.nio.channels.ReadableByteChannel)"><!-- --></A><H3>
drain</H3>
<PRE>
int <B>drain</B>(java.nio.channels.ReadableByteChannel&nbsp;channel)
          throws java.io.IOException</PRE>
<DL>
<DD>Drains the channel and puts the data in this BufferStream. If the given
 channel cannot be read an exception will be thrown, otherwise the number
 of bytes read from the channel will be returned. The given channel is
 expected to be non-blocking, and the read method on the channel must
 return 0 if there is no more data to drain.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - The channel to drain data from.
<DT><B>Returns:</B><DD>The number of bytes drained from the channel.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - The channel is unreadable.</DL>
</DD>
</DL>
<HR>

<A NAME="drain(java.io.InputStream)"><!-- --></A><H3>
drain</H3>
<PRE>
int <B>drain</B>(java.io.InputStream&nbsp;stream)
          throws java.io.IOException</PRE>
<DL>
<DD>Drains the stream and puts the data in this BufferStream. If the given
 input stream cannot be read an exception will be thrown, otherwise the
 number of bytes read from the channel will be returned. Since the given
 stream blocks on reads first this attempts to use the available() 
 method of InputStream to guess the number of bytes to read into the
 BufferStream. If the available method returns 0 then a blocking read will
 be made for a single byte, once the read method unblocks that byte will
 be added to this BufferStream. If there is no more data in the given 
 InputStream this method will return -1.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stream</CODE> - The InputStream to read from. If the InputStream can be read in
                non-blocking mode an attempt will be made. If know data exists in
                the stream but an EOF has not been reached this method will block
                until data exists or an EOF has been given.
<DT><B>Returns:</B><DD>The number of bytes added to this BufferStream or -1 if the
                InputStream has reached EOF.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - The InputStream is unreadable.</DL>
</DD>
</DL>
<HR>

<A NAME="drain(java.nio.ByteBuffer)"><!-- --></A><H3>
drain</H3>
<PRE>
int <B>drain</B>(java.nio.ByteBuffer&nbsp;writer)</PRE>
<DL>
<DD>Drains the buffer and puts the data in this BufferStream. If the given
 buffer is empty this will have no affect.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>writer</CODE> - The buffer to take data from and place in this BufferStream.
<DT><B>Returns:</B><DD>The number of bytes taken from the given buffer and placed in this
                BufferStream. This is always writer.remaining();</DL>
</DD>
</DL>
<HR>

<A NAME="drain(byte[], int, int)"><!-- --></A><H3>
drain</H3>
<PRE>
int <B>drain</B>(byte[]&nbsp;data,
          int&nbsp;offset,
          int&nbsp;length)</PRE>
<DL>
<DD>Drains the byte array and puts the data in this BufferStream. The data
 is taken from the section of the given array described by the data's 
 offset in the array and the length of the section (number of bytes). If
 the given length or offset exceed the bounds of the array a negative 
 number will be returned. If the given length exceeds the bounds of the 
 array but the offset exists in the array then the maximum number of bytes 
 will be put.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - The array of data to read from.<DD><CODE>offset</CODE> - The offset in the given array to start reading from.<DD><CODE>length</CODE> - The number of bytes to read.
<DT><B>Returns:</B><DD>The number of bytes taken from the array. If no bytes could be taken
                from the array a negative number will be returned .</DL>
</DD>
</DL>
<HR>

<A NAME="fill(java.nio.channels.WritableByteChannel)"><!-- --></A><H3>
fill</H3>
<PRE>
int <B>fill</B>(java.nio.channels.WritableByteChannel&nbsp;channel)
         throws java.io.IOException</PRE>
<DL>
<DD>Fills the channel by writing the data from this BufferStream to it. If
 the given channel cannot be written to an exception will be thrown,
 otherwise the number of bytes written to the channel will be returned.
 The given channel is expected to be non-blocking, and the write method
 on the channel must return 0 if data cannot currently be written to
 the channel (the device could be busy).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channel</CODE> - The channel to fill with the data from this BufferStream.
<DT><B>Returns:</B><DD>The number of bytes taken from this BufferStream and successfully
                written to the given channel.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - The channel is unwritable.</DL>
</DD>
</DL>
<HR>

<A NAME="fill(java.io.OutputStream)"><!-- --></A><H3>
fill</H3>
<PRE>
int <B>fill</B>(java.io.OutputStream&nbsp;stream)
         throws java.io.IOException</PRE>
<DL>
<DD>Fills the stream by writing the data from this BufferStream to it. This
 method will block until all data taken from this BufferStream is written
 to the given stream. The number of bytes written to the stream will be
 returned, or an exception will be thrown if the stream is unwritable.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>stream</CODE> - The stream to fill with all of the data in this BufferStream.
<DT><B>Returns:</B><DD>The number of bytes written to the stream.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - The OutputStream is unwritable.</DL>
</DD>
</DL>
<HR>

<A NAME="fill(java.nio.ByteBuffer)"><!-- --></A><H3>
fill</H3>
<PRE>
int <B>fill</B>(java.nio.ByteBuffer&nbsp;reader)</PRE>
<DL>
<DD>Fills the buffer and puts data from this BufferStream into it. Only the
 maximum number of bytes are copied. The number of bytes copied to the
 given buffer will be returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reader</CODE> - The buffer to write data to from this BufferStream.
<DT><B>Returns:</B><DD>The number of bytes written to the given buffer.</DL>
</DD>
</DL>
<HR>

<A NAME="getWriter(int)"><!-- --></A><H3>
getWriter</H3>
<PRE>
java.nio.ByteBuffer <B>getWriter</B>(int&nbsp;bytes)</PRE>
<DL>
<DD>Returns the byte buffer to write to that has enough space for the given 
 number of bytes.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bytes</CODE> - The maximum number of bytes that will be written to the ByteBuffer
                before the next <A HREF="../../../org/magnos/io/BufferStream.html#getWriter(int)"><CODE>getWriter(int)</CODE></A> is invoked.
<DT><B>Returns:</B><DD>The reference to the ByteBuffer to write to.</DL>
</DD>
</DL>
<HR>

<A NAME="getReader(int)"><!-- --></A><H3>
getReader</H3>
<PRE>
java.nio.ByteBuffer <B>getReader</B>(int&nbsp;bytes)</PRE>
<DL>
<DD>Returns the byte buffer to read from that has enough space for the given 
 number of bytes.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bytes</CODE> - The maximum number of bytes that will be read from the ByteBuffer
                before the next <A HREF="../../../org/magnos/io/BufferStream.html#getReader(int)"><CODE>getReader(int)</CODE></A> is invoked.
<DT><B>Returns:</B><DD>The reference to the ByteBuffer to write to.</DL>
</DD>
</DL>
<HR>

<A NAME="order()"><!-- --></A><H3>
order</H3>
<PRE>
java.nio.ByteOrder <B>order</B>()</PRE>
<DL>
<DD>Returns the byte order of the BufferStream.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The byte order of the BufferStream.</DL>
</DD>
</DL>
<HR>

<A NAME="order(java.nio.ByteOrder)"><!-- --></A><H3>
order</H3>
<PRE>
void <B>order</B>(java.nio.ByteOrder&nbsp;order)</PRE>
<DL>
<DD>Sets the byte order of the BufferStream.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>order</CODE> - The new byte order of the BufferStream.</DL>
</DD>
</DL>
<HR>

<A NAME="sync(java.nio.ByteBuffer)"><!-- --></A><H3>
sync</H3>
<PRE>
void <B>sync</B>(java.nio.ByteBuffer&nbsp;reader)</PRE>
<DL>
<DD>Synchronizes the given read ByteBuffer with this stream. This simulates all data
 read in the given ByteBuffer will be read from the stream and discarded.
 This is equivalent to calling skip(reader.position()).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reader</CODE> - The ByteBuffer to synchronize with.</DL>
</DD>
</DL>
<HR>

<A NAME="skip(int)"><!-- --></A><H3>
skip</H3>
<PRE>
void <B>skip</B>(int&nbsp;bytes)</PRE>
<DL>
<DD>Skips a given number of bytes. Skipping bytes will discard the oldest
 bytes written to the BufferStream. If the number of bytes to skip exceeds
 the number of bytes that exist in this BufferStream then all bytes in
 this BufferStream are discarded.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bytes</CODE> - The number of bytes to skip.</DL>
</DD>
</DL>
<HR>

<A NAME="clear()"><!-- --></A><H3>
clear</H3>
<PRE>
void <B>clear</B>()</PRE>
<DL>
<DD>Discards all bytes in this BufferStream.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="expand()"><!-- --></A><H3>
expand</H3>
<PRE>
void <B>expand</B>()</PRE>
<DL>
<DD>Expands the total capacity of the underlying buffer to double its size.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="remaining()"><!-- --></A><H3>
remaining</H3>
<PRE>
int <B>remaining</B>()</PRE>
<DL>
<DD>Returns the number of bytes which can be written to this BufferStream
 before it must be expanded to hold more.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The number of bytes remaining.</DL>
</DD>
</DL>
<HR>

<A NAME="pad(int)"><!-- --></A><H3>
pad</H3>
<PRE>
void <B>pad</B>(int&nbsp;bytes)</PRE>
<DL>
<DD>Ensures the BufferStream has enough space to write the given number
 of bytes to it.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bytes</CODE> - The requested number of bytes to make available.</DL>
</DD>
</DL>
<HR>

<A NAME="position()"><!-- --></A><H3>
position</H3>
<PRE>
int <B>position</B>()</PRE>
<DL>
<DD>Returns the writing position of this BufferStream in its underlying
 ByteBuffer.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The write position in bytes.</DL>
</DD>
</DL>
<HR>

<A NAME="size()"><!-- --></A><H3>
size</H3>
<PRE>
int <B>size</B>()</PRE>
<DL>
<DD>Returns the number of bytes current written to the BufferStream.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The position in bytes.</DL>
</DD>
</DL>
<HR>

<A NAME="capacity()"><!-- --></A><H3>
capacity</H3>
<PRE>
int <B>capacity</B>()</PRE>
<DL>
<DD>Returns the full capacity of this BufferStream in bytes. This may
 change if the buffer is expanded to hold more data.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The capacity in bytes.</DL>
</DD>
</DL>
<HR>

<A NAME="flush()"><!-- --></A><H3>
flush</H3>
<PRE>
void <B>flush</B>()</PRE>
<DL>
<DD>Flushes the data in this BufferStream by notifying the listener that data
 is ready to be processed. This is typically only used if the BufferStream
 is manipulated explicitly and not through typical methods.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isEmpty()"><!-- --></A><H3>
isEmpty</H3>
<PRE>
boolean <B>isEmpty</B>()</PRE>
<DL>
<DD>Returns whether this BufferStream contains any data.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>True if this BufferStream has no data, otherwise false.</DL>
</DD>
</DL>
<HR>

<A NAME="hasBytes()"><!-- --></A><H3>
hasBytes</H3>
<PRE>
boolean <B>hasBytes</B>()</PRE>
<DL>
<DD>Returns whether this BufferStream contains any data.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>True if this BufferStream has at least 1 byte, otherwise false.</DL>
</DD>
</DL>
<HR>

<A NAME="free()"><!-- --></A><H3>
free</H3>
<PRE>
void <B>free</B>()</PRE>
<DL>
<DD>Completely frees the underlying ByteBuffer of this BufferStream. This
 should only be called if the BufferStream is never going to be invoked
 in any way ever again. If an attempt to invoke this BufferStream after
 its freed is made a NullPointerException will be thrown. This method
 can be invoked any number of times but only the first invocation will
 actually free the BufferStream.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isFree()"><!-- --></A><H3>
isFree</H3>
<PRE>
boolean <B>isFree</B>()</PRE>
<DL>
<DD>Returns whether this BufferStream has been freed. A freed BufferStream
 should never be accessed again, if it is a NullPointerException will
 be thrown.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>True if free() has been invoked, otherwise false.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BufferStream.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/magnos/io/Buffers.html" title="class in org.magnos.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/magnos/io/BufferStreamListener.html" title="interface in org.magnos.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/magnos/io/BufferStream.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BufferStream.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
